/**
 * Language Translator for AI Story Generator
 * This module handles the translation of story content to different languages
 */

class LanguageTranslator {
    constructor() {
        // Language dictionaries for story content
        this.storyContent = {
            english: {
                // English is the base language
            },
            tamil: this.initTamilDictionary(),
            telugu: this.initTeluguDictionary(),
            spanish: {
                // Spanish story content - Common story phrases
                "Once upon a time": "Había una vez",
                "in a faraway land": "en una tierra lejana",
                "there lived a": "vivía un",
                "brave hero": "héroe valiente",
                "magical forest": "bosque mágico",
                "ancient castle": "castillo antiguo",
                "dark cave": "cueva oscura",
                "mysterious stranger": "extraño misterioso",
                "powerful wizard": "poderoso mago",
                "beautiful princess": "hermosa princesa",
                "fearsome dragon": "temible dragón",
                "evil sorcerer": "malvado hechicero",
                "loyal friend": "amigo leal",
                "dangerous journey": "viaje peligroso",
                "hidden treasure": "tesoro escondido",
                "magic sword": "espada mágica",
                "enchanted forest": "bosque encantado",
                "secret passage": "pasaje secreto",
                "ancient prophecy": "antigua profecía",
                "final battle": "batalla final",
                "happily ever after": "felices para siempre",
                "The End": "Fin",
                
                // Story elements
                "Chapter": "Capítulo",
                "magic": "magia",
                "forest": "bosque",
                "adventure": "aventura",
                "mystery": "misterio",
                "journey": "viaje",
                "hero": "héroe",
                "villain": "villano",
                "quest": "búsqueda",
                "ancient": "antiguo",
                "power": "poder",
                "secret": "secreto",
                "kingdom": "reino",
                "wizard": "mago",
                "warrior": "guerrero",
                "princess": "princesa",
                "dragon": "dragón",
                "sword": "espada",
                "spell": "hechizo",
                "treasure": "tesoro",
                "battle": "batalla",
                
                // Common verbs
                "discovered": "descubrió",
                "found": "encontró",
                "walked": "caminó",
                "ran": "corrió",
                "fought": "luchó",
                "spoke": "habló",
                "whispered": "susurró",
                "shouted": "gritó",
                "thought": "pensó",
                "remembered": "recordó",
                "forgot": "olvidó",
                "knew": "sabía",
                "felt": "sintió",
                "saw": "vio",
                "heard": "oyó",
                "looked": "miró",
                "watched": "observó",
                "waited": "esperó",
                "moved": "se movió",
                "stood": "se paró",
                "sat": "se sentó",
                "lay": "se acostó",
                "slept": "durmió",
                "woke": "despertó",
                "dreamed": "soñó",
                
                // Common adjectives
                "brave": "valiente",
                "strong": "fuerte",
                "wise": "sabio",
                "clever": "inteligente",
                "beautiful": "hermoso",
                "handsome": "apuesto",
                "ugly": "feo",
                "dark": "oscuro",
                "light": "luminoso",
                "old": "viejo",
                "young": "joven",
                "big": "grande",
                "small": "pequeño",
                "tall": "alto",
                "short": "bajo",
                "happy": "feliz",
                "sad": "triste",
                "angry": "enojado",
                "afraid": "asustado",
                "surprised": "sorprendido",
                "tired": "cansado",
                "hungry": "hambriento",
                "thirsty": "sediento",
                
                // Common story settings
                "castle": "castillo",
                "village": "pueblo",
                "city": "ciudad",
                "mountain": "montaña",
                "river": "río",
                "lake": "lago",
                "ocean": "océano",
                "island": "isla",
                "desert": "desierto",
                "jungle": "selva",
                "forest": "bosque",
                "cave": "cueva",
                "tower": "torre",
                "palace": "palacio",
                "temple": "templo",
                "ruins": "ruinas",
                "battlefield": "campo de batalla",
                "marketplace": "mercado",
                "tavern": "taberna",
                "inn": "posada",
                "library": "biblioteca",
                "laboratory": "laboratorio",
                "dungeon": "mazmorra",
                "sanctuary": "santuario",
                
                // Common story objects
                "sword": "espada",
                "shield": "escudo",
                "armor": "armadura",
                "bow": "arco",
                "arrow": "flecha",
                "staff": "bastón",
                "wand": "varita",
                "potion": "poción",
                "scroll": "pergamino",
                "book": "libro",
                "map": "mapa",
                "key": "llave",
                "lock": "cerradura",
                "door": "puerta",
                "window": "ventana",
                "table": "mesa",
                "chair": "silla",
                "bed": "cama",
                "candle": "vela",
                "torch": "antorcha",
                "fire": "fuego",
                "water": "agua",
                "earth": "tierra",
                "air": "aire",
                "gold": "oro",
                "silver": "plata",
                "jewel": "joya",
                "crown": "corona",
                "throne": "trono",
                "ring": "anillo",
                "amulet": "amuleto",
                "pendant": "colgante",
                
                // Common story characters
                "king": "rey",
                "queen": "reina",
                "prince": "príncipe",
                "princess": "princesa",
                "knight": "caballero",
                "wizard": "mago",
                "witch": "bruja",
                "sorcerer": "hechicero",
                "sorceress": "hechicera",
                "warrior": "guerrero",
                "soldier": "soldado",
                "guard": "guardia",
                "thief": "ladrón",
                "assassin": "asesino",
                "merchant": "comerciante",
                "farmer": "granjero",
                "blacksmith": "herrero",
                "innkeeper": "posadero",
                "servant": "sirviente",
                "slave": "esclavo",
                "prisoner": "prisionero",
                "traveler": "viajero",
                "stranger": "extraño",
                "friend": "amigo",
                "enemy": "enemigo",
                "ally": "aliado",
                "foe": "adversario",
                "mentor": "mentor",
                "student": "estudiante",
                "master": "maestro",
                "apprentice": "aprendiz",
                "child": "niño",
                "elder": "anciano",
                "ghost": "fantasma",
                "spirit": "espíritu",
                "demon": "demonio",
                "angel": "ángel",
                "god": "dios",
                "goddess": "diosa",
                
                // Common story phrases
                "a long time ago": "hace mucho tiempo",
                "once upon a time": "érase una vez",
                "in a land far away": "en una tierra muy lejana",
                "many years ago": "hace muchos años",
                "in ancient times": "en tiempos antiguos",
                "in the beginning": "al principio",
                "at the end": "al final",
                "suddenly": "de repente",
                "meanwhile": "mientras tanto",
                "later that day": "más tarde ese día",
                "the next morning": "a la mañana siguiente",
                "that night": "esa noche",
                "at dawn": "al amanecer",
                "at dusk": "al anochecer",
                "at midnight": "a medianoche",
                "in the darkness": "en la oscuridad",
                "in the light": "en la luz",
                "in the shadows": "en las sombras",
                "in the distance": "en la distancia",
                "nearby": "cerca",
                "far away": "lejos",
                "beyond the horizon": "más allá del horizonte",
                "beneath the surface": "bajo la superficie",
                "above the clouds": "sobre las nubes",
                "within the walls": "dentro de las murallas",
                "outside the gates": "fuera de las puertas",
                "across the land": "a través de la tierra",
                "throughout the kingdom": "por todo el reino",
                "among the people": "entre la gente",
                "between the worlds": "entre los mundos",
                "beyond the veil": "más allá del velo",
                "through the portal": "a través del portal",
                "into the unknown": "hacia lo desconocido",
                "out of the darkness": "fuera de la oscuridad",
                "into the light": "hacia la luz",
                "with great courage": "con gran valentía",
                "with wisdom": "con sabiduría",
                "with strength": "con fuerza",
                "with determination": "con determinación",
                "with fear": "con miedo",
                "with hope": "con esperanza",
                "with despair": "con desesperación",
                "with joy": "con alegría",
                "with sorrow": "con tristeza",
                "with anger": "con ira",
                "with love": "con amor",
                "with hatred": "con odio",
                "with passion": "con pasión",
                "with indifference": "con indiferencia",
                "with surprise": "con sorpresa",
                "with confusion": "con confusión",
                "with understanding": "con comprensión",
                "with knowledge": "con conocimiento",
                "with ignorance": "con ignorancia",
                "with power": "con poder",
                "with weakness": "con debilidad",
                "with magic": "con magia",
                "with technology": "con tecnología",
                "with science": "con ciencia",
                "with art": "con arte",
                "with music": "con música",
                "with words": "con palabras",
                "with silence": "con silencio",
                "with a smile": "con una sonrisa",
                "with a frown": "con el ceño fruncido",
                "with a laugh": "con una risa",
                "with a tear": "con una lágrima",
                "with a sigh": "con un suspiro",
                "with a gasp": "con un jadeo",
                "with a shout": "con un grito",
                "with a whisper": "con un susurro",
                "with a nod": "con un asentimiento",
                "with a shake of the head": "con una sacudida de cabeza",
                "with a wave of the hand": "con un gesto de la mano",
                "with a flick of the wrist": "con un movimiento de muñeca",
                "with a snap of the fingers": "con un chasquido de dedos",
                "with a blink of an eye": "con un parpadeo",
                "with a heavy heart": "con el corazón pesado",
                "with a light step": "con paso ligero",
                "with a steady hand": "con mano firme",
                "with a trembling voice": "con voz temblorosa",
                "with a clear mind": "con mente clara",
                "with a clouded judgment": "con juicio nublado",
                "with a pure soul": "con alma pura",
                "with a tainted spirit": "con espíritu manchado",
                "with a brave face": "con cara valiente",
                "with a fearful expression": "con expresión temerosa",
                "with a determined gaze": "con mirada determinada",
                "with a distant look": "con mirada distante",
                "with a knowing smile": "con sonrisa conocedora",
                "with a puzzled frown": "con ceño fruncido desconcertado",
                "with a curious glance": "con mirada curiosa",
                "with a suspicious stare": "con mirada sospechosa",
                "with a loving embrace": "con un abrazo amoroso",
                "with a hateful glare": "con una mirada de odio",
                "with a friendly gesture": "con un gesto amistoso",
                "with a hostile stance": "con una postura hostil",
                "with a peaceful demeanor": "con un comportamiento pacífico",
                "with a violent temper": "con un temperamento violento",
                "with a gentle touch": "con un toque suave",
                "with a rough grasp": "con un agarre áspero",
                "with a soft voice": "con voz suave",
                "with a harsh tone": "con tono áspero",
                "with a melodious song": "con una canción melodiosa",
                "with a discordant cry": "con un grito discordante",
                "with a harmonious rhythm": "con un ritmo armonioso",
                "with a chaotic noise": "con un ruido caótico",
                "with a balanced stance": "con una postura equilibrada",
                "with an unsteady gait": "con un andar inestable",
                "with a graceful movement": "con un movimiento elegante",
                "with a clumsy stumble": "con un tropiezo torpe",
                "with a swift action": "con una acción rápida",
                "with a slow deliberation": "con una lenta deliberación",
                "with a sudden impulse": "con un impulso repentino",
                "with a careful plan": "con un plan cuidadoso",
                "with a reckless abandon": "con un abandono temerario",
                "with a cautious approach": "con un enfoque cauteloso",
                "with a bold strategy": "con una estrategia audaz",
                "with a timid retreat": "con una retirada tímida",
                "with a victorious cheer": "con un vítore victorioso",
                "with a defeated sigh": "con un suspiro derrotado",
                "with a triumphant smile": "con una sonrisa triunfante",
                "with a bitter frown": "con un ceño amargo",
                "with a satisfied nod": "con un asentimiento satisfecho",
                "with a disappointed shake of the head": "con una sacudida de cabeza decepcionada",
                "with a hopeful gaze": "con una mirada esperanzada",
                "with a despairing glance": "con una mirada desesperada",
                "with a joyful laugh": "con una risa alegre",
                "with a sorrowful tear": "con una lágrima triste",
                "with a peaceful smile": "con una sonrisa pacífica",
                "with a troubled frown": "con un ceño preocupado",
                "with a contented sigh": "con un suspiro satisfecho",
                "with a restless fidget": "con un movimiento inquieto",
                "with a relaxed posture": "con una postura relajada",
                "with a tense stance": "con una postura tensa",
                "with a warm embrace": "con un abrazo cálido",
                "with a cold stare": "con una mirada fría",
                "with a hot temper": "con un temperamento caliente",
                "with a cool demeanor": "con un comportamiento frío",
                "with a bright smile": "con una sonrisa brillante",
                "with a dark scowl": "con un ceño oscuro",
                "with a light heart": "con un corazón ligero",
                "with a heavy burden": "con una carga pesada",
                "with a strong will": "con una voluntad fuerte",
                "with a weak resolve": "con una resolución débil",
                "with a high spirit": "con un espíritu elevado",
                "with a low mood": "con un estado de ánimo bajo",
                "with a deep thought": "con un pensamiento profundo",
                "with a shallow understanding": "con una comprensión superficial",
                "with a wide smile": "con una sonrisa amplia",
                "with a narrow gaze": "con una mirada estrecha",
                "with a long sigh": "con un suspiro largo",
                "with a short breath": "con un aliento corto",
                "with a full heart": "con un corazón lleno",
                "with an empty soul": "con un alma vacía",
                "with a rich imagination": "con una imaginación rica",
                "with a poor judgment": "con un juicio pobre",
                "with a sweet smile": "con una sonrisa dulce",
                "with a bitter frown": "con un ceño amargo",
                "with a sour expression": "con una expresión agria",
                "with a salty tear": "con una lágrima salada",
                "with a spicy retort": "con una réplica picante",
                "with a bland response": "con una respuesta insípida",
                "with a sharp wit": "con un ingenio agudo",
                "with a dull mind": "con una mente aburrida",
                "with a smooth movement": "con un movimiento suave",
                "with a rough action": "con una acción áspera",
                "with a hard stare": "con una mirada dura",
                "with a soft gaze": "con una mirada suave",
                "with a loud shout": "con un grito fuerte",
                "with a quiet whisper": "con un susurro tranquilo",
                "with a high voice": "con una voz alta",
                "with a low tone": "con un tono bajo",
                "with a fast pace": "con un ritmo rápido",
                "with a slow stride": "con un paso lento",
                "with a quick glance": "con una mirada rápida",
                "with a lingering gaze": "con una mirada persistente",
                "with a sudden movement": "con un movimiento repentino",
                "with a gradual approach": "con un enfoque gradual",
                "with a direct question": "con una pregunta directa",
                "with an indirect hint": "con una indirecta",
                "with a clear statement": "con una declaración clara",
                "with an ambiguous remark": "con un comentario ambiguo",
                "with a definite answer": "con una respuesta definitiva",
                "with an uncertain reply": "con una respuesta incierta",
                "with a positive attitude": "con una actitud positiva",
                "with a negative outlook": "con una perspectiva negativa",
                "with a neutral expression": "con una expresión neutral",
                "with a biased opinion": "con una opinión sesgada",
                "with a fair judgment": "con un juicio justo",
                "with an unfair bias": "con un sesgo injusto",
                "with a good intention": "con una buena intención",
                "with an evil purpose": "con un propósito malvado",
                "with a noble goal": "con un objetivo noble",
                "with a selfish aim": "con un objetivo egoísta",
                "with a generous offer": "con una oferta generosa",
                "with a greedy demand": "con una demanda codiciosa",
                "with a kind word": "con una palabra amable",
                "with a cruel taunt": "con una burla cruel",
                "with a gentle touch": "con un toque suave",
                "with a harsh blow": "con un golpe duro",
                "with a loving embrace": "con un abrazo amoroso",
                "with a hateful push": "con un empujón odioso",
                "with a friendly smile": "con una sonrisa amistosa",
                "with a hostile glare": "con una mirada hostil",
                "with a peaceful gesture": "con un gesto pacífico",
                "with a violent action": "con una acción violenta",
                "with a calm demeanor": "con un comportamiento tranquilo",
                "with an agitated manner": "con una manera agitada",
                "with a relaxed posture": "con una postura relajada",
                "with a tense stance": "con una postura tensa",
                "with a confident stride": "con un paso confiado",
                "with a hesitant step": "con un paso vacilante",
                "with a bold move": "con un movimiento audaz",
                "with a timid gesture": "con un gesto tímido",
                "with a brave face": "con una cara valiente",
                "with a fearful expression": "con una expresión temerosa",
                "with a happy smile": "con una sonrisa feliz",
                "with a sad frown": "con un ceño triste",
                "with an angry glare": "con una mirada enojada",
                "with a surprised gasp": "con un jadeo sorprendido",
                "with a disgusted grimace": "con una mueca de disgusto",
                "with a contemptuous sneer": "con una mueca de desprecio",
                "with an envious glance": "con una mirada envidiosa",
                "with a proud stance": "con una postura orgullosa",
                "with a humble bow": "con una reverencia humilde",
                "with a shameful blush": "con un rubor vergonzoso",
                "with a guilty look": "con una mirada culpable",
                "with an innocent expression": "con una expresión inocente",
                "with a curious gaze": "con una mirada curiosa",
                "with a bored yawn": "con un bostezo aburrido",
                "with an interested lean": "con una inclinación interesada",
                "with a disinterested shrug": "con un encogimiento de hombros desinteresado",
                "with an excited jump": "con un salto emocionado",
                "with a disappointed slump": "con una caída decepcionada",
                "with a hopeful smile": "con una sonrisa esperanzada",
                "with a despairing sob": "con un sollozo desesperado",
                "with a relieved sigh": "con un suspiro aliviado",
                "with an anxious fidget": "con un movimiento ansioso",
                "with a content smile": "con una sonrisa contenta",
                "with a dissatisfied frown": "con un ceño insatisfecho",
                "with a grateful nod": "con un asentimiento agradecido",
                "with an ungrateful sniff": "con un resoplido desagradecido",
                "with a respectful bow": "con una reverencia respetuosa",
                "with a disrespectful snort": "con un resoplido irrespetuoso",
                "with an admiring gaze": "con una mirada admirativa",
                "with a disdainful glance": "con una mirada desdeñosa",
                "with a loving caress": "con una caricia amorosa",
                "with a hateful slap": "con una bofetada odiosa",
                "with a friendly pat": "con una palmadita amistosa",
                "with a hostile push": "con un empujón hostil",
                "with a peaceful smile": "con una sonrisa pacífica",
                "with a warlike scowl": "con un ceño belicoso",
                "with a harmonious melody": "con una melodía armoniosa",
                "with a discordant noise": "con un ruido discordante",
                "with a balanced stance": "con una postura equilibrada",
                "with an unsteady wobble": "con un tambaleo inestable",
                "with a graceful dance": "con un baile elegante",
                "with a clumsy stumble": "con un tropiezo torpe",
                "with a swift run": "con una carrera rápida",
                "with a slow crawl": "con un arrastre lento",
                "with a sudden halt": "con una parada repentina",
                "with a gradual slowdown": "con una desaceleración gradual",
                "with a careful step": "con un paso cuidadoso",
                "with a reckless leap": "con un salto temerario",
                "with a cautious approach": "con un enfoque cauteloso",
                "with a bold charge": "con una carga audaz",
                "with a strategic retreat": "con una retirada estratégica",
                "with a tactical advance": "con un avance táctico",
                "with a victorious cheer": "con un vítore victorioso",
                "with a defeated groan": "con un gemido derrotado",
                "with a triumphant smile": "con una sonrisa triunfante",
                "with a bitter tear": "con una lágrima amarga",
                "with a satisfied nod": "con un asentimiento satisfecho",
                "with a disappointed sigh": "con un suspiro decepcionado",
                "with a hopeful prayer": "con una oración esperanzada",
                "with a despairing curse": "con una maldición desesperada",
                "with a joyful dance": "con un baile alegre",
                "with a sorrowful dirge": "con un canto fúnebre triste",
                "with a peaceful meditation": "con una meditación pacífica",
                "with a troubled nightmare": "con una pesadilla preocupante",
                "with a contented purr": "con un ronroneo satisfecho",
                "with a restless pacing": "con un paso inquieto",
                "with a relaxed stretch": "con un estiramiento relajado",
                "with a tense crouch": "con un agachamiento tenso",
                "with a warm smile": "con una sonrisa cálida",
                "with a cold stare": "con una mirada fría",
                "with a hot temper": "con un temperamento caliente",
                "with a cool demeanor": "con un comportamiento frío",
                "with a bright laugh": "con una risa brillante",
                "with a dark scowl": "con un ceño oscuro",
                "with a light step": "con un paso ligero",
                "with a heavy tread": "con un paso pesado",
                "with a strong grip": "con un agarre fuerte",
                "with a weak handshake": "con un apretón de manos débil",
                "with a high jump": "con un salto alto",
                "with a low crouch": "con un agachamiento bajo",
                "with a deep breath": "con un respiro profundo",
                "with a shallow pant": "con un jadeo superficial",
                "with a wide smile": "con una sonrisa amplia",
                "with a narrow squint": "con un entrecerrar de ojos estrecho",
                "with a long stride": "con un paso largo",
                "with a short hop": "con un salto corto",
                "with a full laugh": "con una risa completa",
                "with an empty stare": "con una mirada vacía",
                "with a rich voice": "con una voz rica",
                "with a poor whisper": "con un susurro pobre",
                "with a sweet song": "con una canción dulce",
                "with a bitter cry": "con un grito amargo",
                "with a sour grimace": "con una mueca agria",
                "with a salty tear": "con una lágrima salada",
                "with a spicy retort": "con una réplica picante",
                "with a bland smile": "con una sonrisa insípida",
                "with a sharp glance": "con una mirada aguda",
                "with a dull gaze": "con una mirada aburrida",
                "with a smooth movement": "con un movimiento suave",
                "with a rough gesture": "con un gesto áspero",
                "with a hard stare": "con una mirada dura",
                "with a soft touch": "con un toque suave",
                "with a loud shout": "con un grito fuerte",
                "with a quiet whisper": "con un susurro tranquilo",
                "with a high note": "con una nota alta",
                "with a low growl": "con un gruñido bajo",
                "with a fast run": "con una carrera rápida",
                "with a slow walk": "con un paseo lento",
                "with a quick glance": "con una mirada rápida",
                "with a lingering gaze": "con una mirada persistente",
                "with a sudden movement": "con un movimiento repentino",
                "with a gradual shift": "con un cambio gradual",
                "with a direct approach": "con un enfoque directo",
                "with an indirect hint": "con una indirecta",
                "with a clear message": "con un mensaje claro",
                "with an ambiguous sign": "con un signo ambiguo",
                "with a definite answer": "con una respuesta definitiva",
                "with an uncertain question": "con una pregunta incierta",
                "with a positive outlook": "con una perspectiva positiva",
                "with a negative attitude": "con una actitud negativa",
                "with a neutral expression": "con una expresión neutral",
                "with a biased view": "con una visión sesgada",
                "with a fair judgment": "con un juicio justo",
                "with an unfair bias": "con un sesgo injusto",
                "with a good intention": "con una buena intención",
                "with an evil plan": "con un plan malvado",
                "with a noble purpose": "con un propósito noble",
                "with a selfish motive": "con un motivo egoísta",
                "with a generous gift": "con un regalo generoso",
                "with a greedy grasp": "con un agarre codicioso",
                "with a kind word": "con una palabra amable",
                "with a cruel insult": "con un insulto cruel",
                "with a gentle touch": "con un toque suave",
                "with a harsh slap": "con una bofetada dura",
                "with a loving kiss": "con un beso amoroso",
                "with a hateful spit": "con un escupitajo odioso",
                "with a friendly wave": "con un saludo amistoso",
                "with a hostile gesture": "con un gesto hostil",
                "with a peaceful smile": "con una sonrisa pacífica",
                "with a violent threat": "con una amenaza violenta",
                "with a calm voice": "con una voz tranquila",
                "with an agitated shout": "con un grito agitado",
                "with a relaxed posture": "con una postura relajada",
                "with a tense stance": "con una postura tensa",
                "with a confident smile": "con una sonrisa confiada",
                "with a hesitant frown": "con un ceño vacilante",
                "with a bold declaration": "con una declaración audaz",
                "with a timid question": "con una pregunta tímida",
                "with a brave face": "con una cara valiente",
                "with a fearful expression": "con una expresión temerosa",
                "with a happy laugh": "con una risa feliz",
                "with a sad tear": "con una lágrima triste",
                "with an angry shout": "con un grito enojado",
                "with a surprised gasp": "con un jadeo sorprendido",
                "with a disgusted grimace": "con una mueca de disgusto",
                "with a contemptuous sneer": "con una mueca de desprecio",
                "with an envious glare": "con una mirada envidiosa",
                "with a proud stance": "con una postura orgullosa",
                "with a humble bow": "con una reverencia humilde",
                "with a shameful blush": "con un rubor vergonzoso",
                "with a guilty look": "con una mirada culpable",
                "with an innocent smile": "con una sonrisa inocente",
                "with a curious tilt of the head": "con una inclinación curiosa de la cabeza",
                "with a bored sigh": "con un suspiro aburrido",
                "with an interested lean": "con una inclinación interesada",
                "with a disinterested shrug": "con un encogimiento de hombros desinteresado",
                "with an excited bounce": "con un rebote emocionado",
                "with a disappointed slump": "con una caída decepcionada",
                "with a hopeful smile": "con una sonrisa esperanzada",
                "with a despairing cry": "con un grito desesperado",
                "with a relieved sigh": "con un suspiro aliviado",
                "with an anxious fidget": "con un movimiento ansioso",
                "with a content smile": "con una sonrisa contenta",
                "with a dissatisfied frown": "con un ceño insatisfecho",
                "with a grateful nod": "con un asentimiento agradecido",
                "with an ungrateful sniff": "con un resoplido desagradecido",
                "with a respectful bow": "con una reverencia respetuosa",
                "with a disrespectful snort": "con un resoplido irrespetuoso",
                "with an admiring gaze": "con una mirada admirativa",
                "with a disdainful glance": "con una mirada desdeñosa",
                "with a loving caress": "con una caricia amorosa",
                "with a hateful slap": "con una bofetada odiosa",
                "with a friendly pat": "con una palmadita amistosa",
                "with a hostile push": "con un empujón hostil",
                "with a peaceful smile": "con una sonrisa pacífica",
                "with a warlike scowl": "con un ceño belicoso",
                "with a harmonious melody": "con una melodía armoniosa",
                "with a discordant noise": "con un ruido discordante",
                "with a balanced stance": "con una postura equilibrada",
                "with an unsteady wobble": "con un tambaleo inestable",
                "with a graceful dance": "con un baile elegante",
                "with a clumsy stumble": "con un tropiezo torpe",
                "with a swift run": "con una carrera rápida",
                "with a slow crawl": "con un arrastre lento",
                "with a sudden halt": "con una parada repentina",
                "with a gradual slowdown": "con una desaceleración gradual",
                "with a careful step": "con un paso cuidadoso",
                "with a reckless leap": "con un salto temerario",
                "with a cautious approach": "con un enfoque cauteloso",
                "with a bold charge": "con una carga audaz",
                "with a strategic retreat": "con una retirada estratégica",
                "with a tactical advance": "con un avance táctico",
                "with a victorious cheer": "con un vítore victorioso",
                "with a defeated groan": "con un gemido derrotado",
                "with a triumphant smile": "con una sonrisa triunfante",
                "with a bitter tear": "con una lágrima amarga",
                "with a satisfied nod": "con un asentimiento satisfecho",
                "with a disappointed sigh": "con un suspiro decepcionado",
                "with a hopeful prayer": "con una oración esperanzada",
                "with a despairing curse": "con una maldición desesperada",
                "with a joyful dance": "con un baile alegre",
                "with a sorrowful dirge": "con un canto fúnebre triste"
            },
            french: {
                // French story content - Common story phrases
                "Once upon a time": "Il était une fois",
                "in a faraway land": "dans un pays lointain",
                "there lived a": "vivait un",
                "brave hero": "héros courageux",
                "magical forest": "forêt magique",
                "ancient castle": "château ancien",
                "dark cave": "grotte sombre",
                "mysterious stranger": "étranger mystérieux",
                "powerful wizard": "puissant sorcier",
                "beautiful princess": "belle princesse",
                "fearsome dragon": "dragon redoutable",
                "evil sorcerer": "sorcier maléfique",
                "loyal friend": "ami fidèle",
                "dangerous journey": "voyage dangereux",
                "hidden treasure": "trésor caché",
                "magic sword": "épée magique",
                "enchanted forest": "forêt enchantée",
                "secret passage": "passage secret",
                "ancient prophecy": "prophétie ancienne",
                "final battle": "bataille finale",
                "happily ever after": "ils vécurent heureux",
                "The End": "Fin",
                
                // Story elements
                "Chapter": "Chapitre",
                "magic": "magie",
                "forest": "forêt",
                "adventure": "aventure",
                "mystery": "mystère",
                "journey": "voyage",
                "hero": "héros",
                "villain": "méchant",
                "quest": "quête",
                "ancient": "ancien",
                "power": "pouvoir",
                "secret": "secret",
                "kingdom": "royaume",
                "wizard": "sorcier",
                "warrior": "guerrier",
                "princess": "princesse",
                "dragon": "dragon",
                "sword": "épée",
                "spell": "sortilège",
                "treasure": "trésor",
                "battle": "bataille"
            },
            german: {
                // German story content - Common story phrases
                "Once upon a time": "Es war einmal",
                "in a faraway land": "in einem weit entfernten Land",
                "there lived a": "lebte ein",
                "brave hero": "tapferer Held",
                "magical forest": "magischer Wald",
                "ancient castle": "alte Burg",
                "dark cave": "dunkle Höhle",
                "mysterious stranger": "mysteriöser Fremder",
                "powerful wizard": "mächtiger Zauberer",
                "beautiful princess": "schöne Prinzessin",
                "fearsome dragon": "furchterregender Drache",
                "evil sorcerer": "böser Zauberer",
                "loyal friend": "treuer Freund",
                "dangerous journey": "gefährliche Reise",
                "hidden treasure": "verborgener Schatz",
                "magic sword": "magisches Schwert",
                "enchanted forest": "verzauberter Wald",
                "secret passage": "geheimer Durchgang",
                "ancient prophecy": "alte Prophezeiung",
                "final battle": "letzte Schlacht",
                "happily ever after": "und sie lebten glücklich",
                "The End": "Ende",
                
                // Story elements
                "Chapter": "Kapitel",
                "magic": "Magie",
                "forest": "Wald",
                "adventure": "Abenteuer",
                "mystery": "Geheimnis",
                "journey": "Reise",
                "hero": "Held",
                "villain": "Bösewicht",
                "quest": "Suche",
                "ancient": "uralt",
                "power": "Macht",
                "secret": "Geheimnis",
                "kingdom": "Königreich",
                "wizard": "Zauberer",
                "warrior": "Krieger",
                "princess": "Prinzessin",
                "dragon": "Drache",
                "sword": "Schwert",
                "spell": "Zauberspruch",
                "treasure": "Schatz",
                "battle": "Kampf"
            },
            italian: {
                // Italian story content - Common story phrases
                "Once upon a time": "C'era una volta",
                "in a faraway land": "in una terra lontana",
                "there lived a": "viveva un",
                "brave hero": "eroe coraggioso",
                "magical forest": "foresta magica",
                "ancient castle": "antico castello",
                "dark cave": "caverna oscura",
                "mysterious stranger": "misterioso straniero",
                "powerful wizard": "potente mago",
                "beautiful princess": "bella principessa",
                "fearsome dragon": "temibile drago",
                "evil sorcerer": "malvagio stregone",
                "loyal friend": "amico fedele",
                "dangerous journey": "viaggio pericoloso",
                "hidden treasure": "tesoro nascosto",
                "magic sword": "spada magica",
                "enchanted forest": "foresta incantata",
                "secret passage": "passaggio segreto",
                "ancient prophecy": "antica profezia",
                "final battle": "battaglia finale",
                "happily ever after": "vissero felici e contenti",
                "The End": "Fine",
                
                // Story elements
                "Chapter": "Capitolo",
                "magic": "magia",
                "forest": "foresta",
                "adventure": "avventura",
                "mystery": "mistero",
                "journey": "viaggio",
                "hero": "eroe",
                "villain": "cattivo",
                "quest": "ricerca",
                "ancient": "antico",
                "power": "potere",
                "secret": "segreto",
                "kingdom": "regno",
                "wizard": "mago",
                "warrior": "guerriero",
                "princess": "principessa",
                "dragon": "drago",
                "sword": "spada",
                "spell": "incantesimo",
                "treasure": "tesoro",
                "battle": "battaglia"
            },
            // Add more languages as needed
        };
        
        // Add Tamil dictionary
        this.storyContent.tamil = this.initTamilDictionary();
        
        // Add Telugu dictionary
        this.storyContent.telugu = this.initTeluguDictionary();
    }
    
    /**
     * Initialize Tamil dictionary
     * @returns {Object} - Tamil translation dictionary
     */
    initTamilDictionary() {
        return {
            // Common story phrases
            "Once upon a time": "ஒரு காலத்தில்",
            "in a faraway land": "தொலைதூர நாட்டில்",
            "there lived a": "அங்கே வாழ்ந்தார்",
            "brave hero": "துணிச்சலான நாயகன்",
            "magical forest": "மாய காடு",
            "ancient castle": "பழைய கோட்டை",
            "dark cave": "இருண்ட குகை",
            "mysterious stranger": "மர்மமான அந்நியன்",
            "powerful wizard": "சக்திவாய்ந்த மந்திரவாதி",
            "beautiful princess": "அழகான இளவரசி",
            "fearsome dragon": "பயங்கரமான டிராகன்",
            "evil sorcerer": "தீய மாயவித்தைக்காரர்",
            "loyal friend": "விசுவாசமான நண்பர்",
            "dangerous journey": "ஆபத்தான பயணம்",
            "hidden treasure": "மறைக்கப்பட்ட புதையல்",
            "magic sword": "மாய வாள்",
            
            // Story elements
            "Chapter": "அத்தியாயம்",
            "The End": "முடிவு",
            "Epilogue": "முடிவுரை",
            "Prologue": "முன்னுரை",
            "Introduction": "அறிமுகம்",
            "Conclusion": "முடிவுரை",
            
            // Common verbs
            "said": "சொன்னார்",
            "walked": "நடந்தார்",
            "ran": "ஓடினார்",
            "found": "கண்டுபிடித்தார்",
            "looked": "பார்த்தார்",
            "thought": "நினைத்தார்",
            "felt": "உணர்ந்தார்",
            "knew": "அறிந்திருந்தார்",
            "saw": "பார்த்தார்",
            "heard": "கேட்டார்",
            
            // Common adjectives
            "beautiful": "அழகான",
            "mysterious": "மர்மமான",
            "ancient": "பழைய",
            "magical": "மாயமான",
            "powerful": "சக்திவாய்ந்த",
            "dangerous": "ஆபத்தான",
            "brave": "துணிச்சலான",
            "wise": "ஞானமுள்ள",
            "evil": "தீய",
            "good": "நல்ல",
            
            // Story themes
            "adventure": "சாகசம்",
            "mystery": "மர்மம்",
            "romance": "காதல்",
            "fantasy": "கற்பனை",
            "horror": "பயங்கரம்",
            "science fiction": "அறிவியல் புனைகதை",
            "thriller": "திரில்லர்",
            "comedy": "நகைச்சுவை",
            "drama": "நாடகம்",
            "tragedy": "சோகம்",
            
            // Time expressions
            "long ago": "நெடுங்காலத்திற்கு முன்",
            "yesterday": "நேற்று",
            "today": "இன்று",
            "tomorrow": "நாளை",
            "now": "இப்போது",
            "soon": "விரைவில்",
            "never": "ஒருபோதும்",
            "always": "எப்போதும்",
            "sometimes": "சில நேரங்களில்",
            "often": "அடிக்கடி"
        };
    }
    
    /**
     * Initialize Telugu dictionary
     * @returns {Object} - Telugu translation dictionary
     */
    initTeluguDictionary() {
        return {
            // Common story phrases
            "Once upon a time": "ఒకప్పుడు",
            "in a faraway land": "దూరదేశంలో",
            "there lived a": "అక్కడ నివసించేవాడు",
            "brave hero": "ధైర్యవంతుడైన వీరుడు",
            "magical forest": "మాయా అడవి",
            "ancient castle": "ప్రాచీన కోట",
            "dark cave": "చీకటి గుహ",
            "mysterious stranger": "రహస్యమైన అపరిచితుడు",
            "powerful wizard": "శక్తివంతమైన మాంత్రికుడు",
            "beautiful princess": "అందమైన రాజకుమారి",
            "fearsome dragon": "భయంకరమైన డ్రాగన్",
            "evil sorcerer": "దుష్ట మాంత్రికుడు",
            "loyal friend": "విశ్వసనీయమైన స్నేహితుడు",
            "dangerous journey": "ప్రమాదకరమైన ప్రయాణం",
            "hidden treasure": "దాచిన నిధి",
            "magic sword": "మాయా ఖడ్గం",
            
            // Story elements
            "Chapter": "అధ్యాయం",
            "The End": "ముగింపు",
            "Epilogue": "ఉపసంహారం",
            "Prologue": "ప్రస్తావన",
            "Introduction": "పరిచయం",
            "Conclusion": "ముగింపు",
            
            // Common verbs
            "said": "అన్నాడు",
            "walked": "నడిచాడు",
            "ran": "పరుగెత్తాడు",
            "found": "కనుగొన్నాడు",
            "looked": "చూశాడు",
            "thought": "ఆలోచించాడు",
            "felt": "అనుభూతి చెందాడు",
            "knew": "తెలుసు",
            "saw": "చూశాడు",
            "heard": "విన్నాడు",
            
            // Common adjectives
            "beautiful": "అందమైన",
            "mysterious": "రహస్యమైన",
            "ancient": "ప్రాచీన",
            "magical": "మాయా",
            "powerful": "శక్తివంతమైన",
            "dangerous": "ప్రమాదకరమైన",
            "brave": "ధైర్యవంతమైన",
            "wise": "జ్ఞానవంతమైన",
            "evil": "దుష్ట",
            "good": "మంచి",
            
            // Story themes
            "adventure": "సాహసం",
            "mystery": "రహస్యం",
            "romance": "ప్రేమ",
            "fantasy": "ఫాంటసీ",
            "horror": "భయం",
            "science fiction": "సైన్స్ ఫిక్షన్",
            "thriller": "థ్రిల్లర్",
            "comedy": "కామెడీ",
            "drama": "నాటకం",
            "tragedy": "విషాదం",
            
            // Time expressions
            "long ago": "చాలా కాలం క్రితం",
            "yesterday": "నిన్న",
            "today": "ఈరోజు",
            "tomorrow": "రేపు",
            "now": "ఇప్పుడు",
            "soon": "త్వరలో",
            "never": "ఎప్పుడూ కాదు",
            "always": "ఎల్లప్పుడూ",
            "sometimes": "కొన్నిసార్లు",
            "often": "తరచుగా"
        };
    }

    /**
     * Translate a story to the specified language
     * @param {Object} story - The story object to translate
     * @param {string} targetLanguage - The language to translate to
     * @returns {Object} - The translated story
     */
    translateStory(story, targetLanguage) {
        // If target language is English or not supported, return the original story
        if (targetLanguage === 'english' || !this.storyContent[targetLanguage]) {
            return story;
        }

        console.log(`Translating story to ${targetLanguage}`);

        // Create a deep copy of the story to avoid modifying the original
        const translatedStory = JSON.parse(JSON.stringify(story));
        
        // Translate the title
        translatedStory.title = this.translateText(story.title, targetLanguage);
        
        // Translate the summary
        translatedStory.summary = this.translateText(story.summary, targetLanguage);
        
        // Translate each chapter
        translatedStory.chapters = story.chapters.map(chapter => {
            return {
                title: this.translateText(chapter.title, targetLanguage),
                content: this.translateText(chapter.content, targetLanguage)
            };
        });
        
        // Set the language of the translated story
        translatedStory.language = targetLanguage;
        
        return translatedStory;
    }

    /**
     * Translate text to the specified language
     * @param {string} text - The text to translate
     * @param {string} targetLanguage - The language to translate to
     * @returns {string} - The translated text
     */
    translateText(text, targetLanguage) {
        if (!text || targetLanguage === 'english' || !this.storyContent[targetLanguage]) {
            return text;
        }

        // Get the dictionary for the target language
        const dictionary = this.storyContent[targetLanguage];
        
        // Replace known phrases with their translations
        let translatedText = text;
        
        // Sort dictionary keys by length (longest first) to avoid partial replacements
        const sortedKeys = Object.keys(dictionary).sort((a, b) => b.length - a.length);
        
        for (const phrase of sortedKeys) {
            // Use a case-insensitive regular expression for replacement
            const regex = new RegExp(phrase, 'gi');
            translatedText = translatedText.replace(regex, dictionary[phrase]);
        }
        
        // Translate sentences by breaking them up
        const sentences = translatedText.split(/(?<=[.!?])\s+/);
        for (let i = 0; i < sentences.length; i++) {
            const sentence = sentences[i];
            // Try to translate individual words that weren't caught by phrases
            const words = sentence.split(/\s+/);
            for (let j = 0; j < words.length; j++) {
                const word = words[j].replace(/[.,!?;:'"()]/g, ''); // Remove punctuation
                if (dictionary[word.toLowerCase()]) {
                    // Replace the word while preserving case and punctuation
                    const replacement = dictionary[word.toLowerCase()];
                    const punctuation = words[j].match(/[.,!?;:'"()]/g) || [];
                    words[j] = words[j].replace(word, replacement) + punctuation.join('');
                }
            }
            sentences[i] = words.join(' ');
        }
        translatedText = sentences.join(' ');
        
        return translatedText;
    }
}

// Create a global instance of the translator
const languageTranslator = new LanguageTranslator();